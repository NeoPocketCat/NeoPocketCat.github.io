<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="3.6.2">Jekyll</generator><link href="http://localhost:4000/feed.xml" rel="self" type="application/atom+xml" /><link href="http://localhost:4000/" rel="alternate" type="text/html" /><updated>2018-04-14T21:34:39+08:00</updated><id>http://localhost:4000/</id><title type="html">NeoPocketCat</title><subtitle>The professional publishing platform</subtitle><entry><title type="html">WebKit Note</title><link href="http://localhost:4000/webkit" rel="alternate" type="text/html" title="WebKit Note" /><published>2018-04-14T18:00:00+08:00</published><updated>2018-04-14T18:00:00+08:00</updated><id>http://localhost:4000/webkit</id><content type="html" xml:base="http://localhost:4000/webkit">&lt;div id=&quot;canvasWrapper&quot; style=&quot;width: 100%;height: 400px;background: #39474F&quot;&gt;
    &lt;canvas id=&quot;content&quot;&gt;&lt;/canvas&gt;
    &lt;script src=&quot;https://d3js.org/d3.v5.min.js&quot;&gt;&lt;/script&gt;
    &lt;script&gt;
        var canvasWrapper = document.getElementById('canvasWrapper');
        var context = document.getElementById('content').getContext('2d');

        var width = canvasWrapper.offsetWidth;
        var height = canvasWrapper.offsetHeight;
        var size = d3.min([width, height]);

        d3.select('#content')
            .attr('width', width + 'px')
            .attr('height', height + 'px');

        context.lineWidth = 0.4;
        context.strokeStyle = 'rgba(255, 255, 255, 0.6)';

        var projection = d3.geoOrthographic()
            .scale(0.45 * size)
            .translate([0.5 * width, 0.5 * height]);

        var geoGenerator = d3.geoPath()
            .projection(projection)
            .context(context);

        var geojson = {type: 'Feature', geometry: {type: 'LineString', coordinates: []}};

        function rndLon() {
            return -180 + Math.random() * 360;
        }

        function rndLat() {
            return -90 + Math.random() * 180;
        }

        function addPoint() {
            geojson.geometry.coordinates.push([rndLon(), rndLat()])
        }

        function update(t) {
            if (geojson.geometry.coordinates.length &lt; 6000)
                addPoint();

            projection.rotate([t / 1000]);

            context.clearRect(0, 0, width, height);
            context.beginPath();
            geoGenerator(geojson);
            context.stroke();

            window.requestAnimationFrame(update);
        }

        window.requestAnimationFrame(update);

    &lt;/script&gt;
&lt;/div&gt;
&lt;h2 id=&quot;ç ”ç©¶äº†å¥½å‡ å¤©çš„webkitåšä¸€ä¸‹ç¬”è®°&quot;&gt;ç ”ç©¶äº†å¥½å‡ å¤©çš„WebKitï¼Œåšä¸€ä¸‹ç¬”è®°&lt;/h2&gt;
&lt;h3 id=&quot;webkitæµç•…æ¸²æŸ“åŠ¨ç”»çš„å®ç°&quot;&gt;WebKitæµç•…æ¸²æŸ“åŠ¨ç”»çš„å®ç°&lt;/h3&gt;
&lt;p&gt;WebKitä¸­macOSå’ŒiOSå®ç°æµç•…æ¸²æŸ“çš„æ–¹å¼æœ‰ç‚¹åŒºåˆ«&lt;/p&gt;
&lt;h4 id=&quot;macos&quot;&gt;macOS&lt;/h4&gt;
&lt;p&gt;å¤„ç†æ—¶ï¼ŒCanvasä¸­çš„Contextæ˜¯é€šè¿‡ä¸€ä¸ªå«CGIOSurfaceContextCreateçš„æ–¹æ³•åˆ›å»ºï¼Œè¿™æ˜¯åˆ›å»ºä¸€ä¸ªå¯ä»¥åŠ é€Ÿæ¸²æŸ“çš„Contextï¼Œä¸ºmacOSçš„ç§æœ‰APIï¼ŒiOSæ²¡æœ‰ã€‚è€ŒCanvasçš„Contextç›´æ¥åœ¨drawRectæ–¹æ³•ä¸­è¢«å¤åˆ¶åˆ°drawRectçš„Contextä¸­ã€‚&lt;/p&gt;
&lt;h4 id=&quot;ios&quot;&gt;iOS&lt;/h4&gt;
&lt;p&gt;iOSä¸‹ï¼ŒCanvasçš„Contextæ˜¯é€šè¿‡æ™®é€šçš„CGBitmapContextCreateæ–¹å¼åˆ›å»ºã€‚è°ƒè¯•Canvasä¸­å¯ä»¥å‘ç°ï¼ŒCanvasçš„Contextä¸æ˜¯åœ¨drawRectä¸‹è¢«æ¸²æŸ“ä¸Šå»ï¼Œè€Œæ˜¯åœ¨RemoteLayerBackingStoreçš„displayæ–¹æ³•ä¸­å®ç°å†…å®¹çš„æ‹·è´ï¼Œå…·ä½“åŸç†è¿˜æœªçŸ¥ï¼Œä½†æ˜¯çŒœæµ‹å’ŒCATiledLayeræœ‰ç›¸ä¼¼çš„å®ç°ã€‚ï¼ˆåç»­æ›´æ–°ï¼‰
å‡ ä¸ªå¯èƒ½é‡è¦çš„API&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;BackingStoreFlusher::flush()&lt;/li&gt;
  &lt;li&gt;CGContextFlush&lt;/li&gt;
  &lt;li&gt;ShareableBitmap&lt;/li&gt;
  &lt;li&gt;CGBitmapContextCreateWithData&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;å¤§æ¦‚åŸç†å¦‚ä¸‹ï¼š&lt;/strong&gt;
åœ¨ShareableBitmapä¸­ï¼Œä¼šåˆ©ç”¨å…¬å…±çš„dataå’ŒCGBitmapContextCreateWithDataåˆ›å»ºä¸€ä¸ªCGContextRefï¼Œå¹¶ä¸”åœ¨ä¸Šé¢ç»˜åˆ¶å„ç§å…ƒç´ ï¼ŒåŒ…æ‹¬Canvasçš„context(flushä¹‹åï¼Œå¯èƒ½å…¬å…±dataçš„æ•°æ®ä¼šå˜åŒ–)ã€‚å½“å±•ç¤ºå…ƒç´ çš„layeréœ€è¦æ›´æ–°æ—¶ï¼Œæ˜¯é€šè¿‡ä¸Šé¢çš„ShareableBitmapï¼Œåˆ©ç”¨dataåˆ›å»ºä¸€ä¸ªContextï¼Œå¹¶æ¸²æŸ“å‡ºCGImageï¼Œå¹¶æŠŠimageä¼ ç»™layer.contents&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;layer.contents = (id)m_frontBuffer.bitmap-&amp;gt;makeCGImageCopy().get();&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è¿™é‡Œcontextæ¸²æŸ“å…ƒç´ ã€flushã€æ›´æ–°layer.contentséƒ½åœ¨åˆé€‚çš„çº¿ç¨‹ä¸Šæ‰§è¡Œï¼Œæ‰€ä»¥ä¼°è®¡é‡ç‚¹è¿˜æ˜¯åœ¨çº¿ç¨‹èµ„æºçš„åˆç†åˆ†é…ä¸Šã€‚ä¸‹é¢æ˜¯ç›‘å¬åˆ·æ–°çš„çº¿ç¨‹&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;m_commitQueue = dispatch_queue_create(&quot;com.apple.WebKit.WebContent.RemoteLayerTreeDrawingArea.CommitQueue&quot;, nullptr);&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä»¥ä¸‹æ˜¯flushTimerçš„è®¾ç½®&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;void RemoteLayerTreeDrawingArea::scheduleCompositingLayerFlush()
{
    if (m_isFlushingSuspended) {
        m_isLayerFlushThrottlingTemporarilyDisabledForInteraction = false;
        m_hasDeferredFlush = true;
        return;
    }
    if (m_isLayerFlushThrottlingTemporarilyDisabledForInteraction) {
        m_isLayerFlushThrottlingTemporarilyDisabledForInteraction = false;
        scheduleCompositingLayerFlushImmediately();
        return;
    }

    if (m_layerFlushTimer.isActive())
        return;

    const Seconds initialFlushDelay = 500_ms;
    const Seconds flushDelay = 1500_ms;
    Seconds throttleDelay = m_isThrottlingLayerFlushes ? (m_isInitialThrottledLayerFlush ? initialFlushDelay : flushDelay) : 0_s;
    m_isInitialThrottledLayerFlush = false;

    m_layerFlushTimer.startOneShot(throttleDelay);
}&lt;/code&gt;&lt;/pre&gt;</content><author><name>neo</name></author><category term="WebKit" /><summary type="html"></summary></entry><entry><title type="html">emmmmmmmmmmmmmmm</title><link href="http://localhost:4000/pull" rel="alternate" type="text/html" title="emmmmmmmmmmmmmmm" /><published>2018-03-29T18:00:00+08:00</published><updated>2018-03-29T18:00:00+08:00</updated><id>http://localhost:4000/pull</id><content type="html" xml:base="http://localhost:4000/pull">&lt;p&gt;OpenGL ES, CoreGraphics, Metal, Skia æˆ‘å°±æ˜¯åœ¨æ‰¾è™ğŸ™„&lt;/p&gt;
&lt;p&gt;å…¬å¸å¼€å‘çš„ç§»åŠ¨ç«¯å›¾è¡¨æ˜¯H5å›¾è¡¨ï¼Œä½†æ˜¯ç”±äºç§ç§åŸå› ï¼Œå¾ˆå¯èƒ½ä¼šå‡ºç°ä¸€æ¬¡è¦å±•ç¤ºå¤šä¸ªWebViewçš„æƒ…å†µï¼Œé‚£å°±å¯èƒ½ä¼šçœ‹åˆ°ä¸€ä¸ªä¸€ä¸ªå›¾è¡¨æ…¢æ…¢çš„åŠ è½½å‡ºæ¥ï¼ˆæˆ‘ä»¬æµ‹è¯•ç”¨æœºçš„é…ç½®æ²¡æœ‰ä¸‹é™ï¼‰&lt;/p&gt;
&lt;h2 id=&quot;basictagging&quot;&gt;AtomGraphics&lt;/h2&gt;
&lt;p&gt;AtomGraphicsï¼Œ æˆ‘æœ€åˆçš„ç›®çš„æ˜¯å¼€å‘ä¸€æ¬¾è·¨å¹³å°çš„ç»˜å›¾SDKï¼Œå¬èµ·æ¥åƒæ˜¯cocos2dã€‚æ²¡é”™ï¼Œé›å½¢å°±æ˜¯å‚è€ƒè¿™ä¸ªã€‚ä½†æ˜¯cocos2dç”¨çš„æ˜¯OpenGLï¼Œæˆ‘æƒ³æ‰¾æ­»ï¼Œèƒ½ç”»å›¾çš„åº“éƒ½æƒ³ç”¨ä¸€éã€‚ç§ã‚’ãƒ‰Mã¨å‹˜é•ã„ã—ãªã„ã§ã€æœ¬å½“ã«é•ã„ã§ã™ã€‚&lt;/p&gt;
&lt;p&gt;å‚è€ƒçš„ä¸œè¥¿å¾ˆå¤šï¼Œä»€ä¹ˆcocos2dã€Webkitã€GCanvasã€‚å¾ˆå¤šäººé—®ï¼Œæˆ‘æ˜¯ä¸æ˜¯è¦è½¬è¡Œææ¸¸æˆï¼Œåˆ«è¯´ï¼Œæˆ‘è¿˜çœŸæƒ³ï¼Œä»€ä¹ˆæ—¶å€™å¯ä»¥æŠŠOpenGLæˆ–è€…cocos2dç”¨å¾—å¤Ÿæºœäº†ï¼Œä¸æ±‚å°é¢ä¸Šçš„å»ºæ¨¡ï¼Œæˆ‘å°±æ˜¯æƒ³æææ¸¸æˆç©ç©ï¼ˆé¡ºå¸¦ä¸€æï¼Œå°é¢æ˜¯å‡¹å‡¸ä¸–ç•Œï¼‰ã€‚æˆ‘æ€•è¿‡å‡ å¹´æ²¡æˆå¤§ç¥ï¼Œå…ˆæˆå¤§å”äº†ã€‚Damn!&lt;/p&gt;
&lt;p&gt;è·¯è¿˜å¾ˆæ¼«é•¿ï¼Œè¿˜æœ‰å¾ˆå¤šå‘ç­‰ç€æˆ‘å»è¸©ã€‚å·¥ç¨‹é‡Œçš„ä»£ç ä¸å®šæœŸæ›´æ–°ï¼Œè¿™æ˜¯ä¸€ä¸ªå­¤ç‹¬çš„å·¥ç¨‹ğŸ˜‚ï¼Œè¿˜ä¸çŸ¥é“ä»€ä¹ˆæ—¶å€™èƒ½å†™å‡ºç‚¹æˆç»©ï¼Œæ¥å‡ ä¸ªstarã€‚&lt;/p&gt;</content><author><name>neo</name></author><category term="New Stage" /><summary type="html">OpenGL ES, CoreGraphics, Metal, Skia æˆ‘å°±æ˜¯åœ¨æ‰¾è™ğŸ™„ å…¬å¸å¼€å‘çš„ç§»åŠ¨ç«¯å›¾è¡¨æ˜¯H5å›¾è¡¨ï¼Œä½†æ˜¯ç”±äºç§ç§åŸå› ï¼Œå¾ˆå¯èƒ½ä¼šå‡ºç°ä¸€æ¬¡è¦å±•ç¤ºå¤šä¸ªWebViewçš„æƒ…å†µï¼Œé‚£å°±å¯èƒ½ä¼šçœ‹åˆ°ä¸€ä¸ªä¸€ä¸ªå›¾è¡¨æ…¢æ…¢çš„åŠ è½½å‡ºæ¥ï¼ˆæˆ‘ä»¬æµ‹è¯•ç”¨æœºçš„é…ç½®æ²¡æœ‰ä¸‹é™ï¼‰ AtomGraphics AtomGraphicsï¼Œ æˆ‘æœ€åˆçš„ç›®çš„æ˜¯å¼€å‘ä¸€æ¬¾è·¨å¹³å°çš„ç»˜å›¾SDKï¼Œå¬èµ·æ¥åƒæ˜¯cocos2dã€‚æ²¡é”™ï¼Œé›å½¢å°±æ˜¯å‚è€ƒè¿™ä¸ªã€‚ä½†æ˜¯cocos2dç”¨çš„æ˜¯OpenGLï¼Œæˆ‘æƒ³æ‰¾æ­»ï¼Œèƒ½ç”»å›¾çš„åº“éƒ½æƒ³ç”¨ä¸€éã€‚ç§ã‚’ãƒ‰Mã¨å‹˜é•ã„ã—ãªã„ã§ã€æœ¬å½“ã«é•ã„ã§ã™ã€‚ å‚è€ƒçš„ä¸œè¥¿å¾ˆå¤šï¼Œä»€ä¹ˆcocos2dã€Webkitã€GCanvasã€‚å¾ˆå¤šäººé—®ï¼Œæˆ‘æ˜¯ä¸æ˜¯è¦è½¬è¡Œææ¸¸æˆï¼Œåˆ«è¯´ï¼Œæˆ‘è¿˜çœŸæƒ³ï¼Œä»€ä¹ˆæ—¶å€™å¯ä»¥æŠŠOpenGLæˆ–è€…cocos2dç”¨å¾—å¤Ÿæºœäº†ï¼Œä¸æ±‚å°é¢ä¸Šçš„å»ºæ¨¡ï¼Œæˆ‘å°±æ˜¯æƒ³æææ¸¸æˆç©ç©ï¼ˆé¡ºå¸¦ä¸€æï¼Œå°é¢æ˜¯å‡¹å‡¸ä¸–ç•Œï¼‰ã€‚æˆ‘æ€•è¿‡å‡ å¹´æ²¡æˆå¤§ç¥ï¼Œå…ˆæˆå¤§å”äº†ã€‚Damn! è·¯è¿˜å¾ˆæ¼«é•¿ï¼Œè¿˜æœ‰å¾ˆå¤šå‘ç­‰ç€æˆ‘å»è¸©ã€‚å·¥ç¨‹é‡Œçš„ä»£ç ä¸å®šæœŸæ›´æ–°ï¼Œè¿™æ˜¯ä¸€ä¸ªå­¤ç‹¬çš„å·¥ç¨‹ğŸ˜‚ï¼Œè¿˜ä¸çŸ¥é“ä»€ä¹ˆæ—¶å€™èƒ½å†™å‡ºç‚¹æˆç»©ï¼Œæ¥å‡ ä¸ªstarã€‚</summary></entry><entry><title type="html">New Stage</title><link href="http://localhost:4000/new-stage" rel="alternate" type="text/html" title="New Stage" /><published>2018-03-18T01:00:00+08:00</published><updated>2018-03-18T01:00:00+08:00</updated><id>http://localhost:4000/new-stage</id><content type="html" xml:base="http://localhost:4000/new-stage">&lt;p&gt;å¼€å§‹æ–°çš„ç ”ç©¶æ–¹å‘ğŸ˜‚&lt;/p&gt;

&lt;h3 id=&quot;x-platform-library-for-generating-2d-animations&quot;&gt;X-Platform library for generating 2D animations&lt;/h3&gt;
&lt;p&gt;æ¸£æ¸£è‹±æ–‡æ°´å¹³ï¼Œç»™æˆ‘æ†‹å‡ºäº†ä¸ªè‹±æ–‡titleğŸ˜‚ï¼Œäººç”ŸçŸ­çŸ­å‡ åå¹´ï¼Œæ­¤é€¼ä¸è£…ä½•æ—¶è£…&lt;/p&gt;

&lt;p&gt;ç®€å•è¯´å°±æ˜¯ï¼Œä¸ºäº†å‘å±•åŸç”Ÿå›¾è¡¨ï¼Œå°†å›¾è¡¨çš„æµç•…æ€§ã€åŠ¨ç”»æ•ˆæœå‘å±•åˆ°æè‡´ï¼Œæˆ‘æ¯…ç„¶å†³å®šå¼€å‘åŸç”Ÿç»˜å›¾APIï¼ˆä¸è¦é—®æˆ‘ä¸ºä»€ä¹ˆWebViewçš„H5å›¾è¡¨ä¸å¤Ÿå¥½ï¼Œå•çº¯æ˜¾ç¤ºå›¾è¡¨ä¸Šï¼ŒWebViewè¿˜æ˜¯å¹²äº†ä¸å°‘å¤šä½™çš„äº‹ï¼Œä½“é‡åºå¤§ï¼‰ã€‚è¿™ä¸ªæå®Œæˆ‘æ˜¯ä¸æ˜¯å¯ä»¥è½¬è¡Œææ¸¸æˆå¼•æ“äº†ğŸ˜ï¼Ÿ&lt;/p&gt;

&lt;p&gt;å…ˆä»cocos2då¼€å§‹å§ï¼Œè·¯è¿˜å¾ˆé•¿&lt;/p&gt;</content><author><name>neo</name></author><category term="New Stage" /><summary type="html">å¼€å§‹æ–°çš„ç ”ç©¶æ–¹å‘ğŸ˜‚</summary></entry><entry><title type="html">Wake Up</title><link href="http://localhost:4000/wake-up" rel="alternate" type="text/html" title="Wake Up" /><published>2018-03-11T18:00:00+08:00</published><updated>2018-03-11T18:00:00+08:00</updated><id>http://localhost:4000/wake-up</id><content type="html" xml:base="http://localhost:4000/wake-up">&lt;p&gt;å·¥ä½œè¿™ä¹ˆå¤šå¹´ï¼Œéƒ½æ²¡æœ‰æƒ³è¿‡è¦å†™åšå®¢ï¼ŒèŠ±äº†å¤§åŠå¤©æ—¶é—´æ€»ç®—æ˜¯æ­å»ºèµ·æ¥äº†ï¼Œmarkä¸€ä¸‹&lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;é‚£é—®é¢˜æ¥äº†å†™åšå®¢å¹²å•¥&quot;&gt;é‚£é—®é¢˜æ¥äº†ï¼Œå†™åšå®¢å¹²å•¥ğŸ™„&lt;/h3&gt;
&lt;p&gt;æ—¢ç„¶ä¸çŸ¥é“ä¸ºä»€ä¹ˆå†™åšå®¢ï¼Œé‚£è¯´ä¸€ä¸‹æˆ‘ä¸ºä»€ä¹ˆä¸å†™åšå®¢ï¼š&lt;strong&gt;æ‡’ï¼&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;æ²¡é”™ï¼Œæ‡’å¾—å†™ï¼è¿™å‡ å¹´åœ¨å…¬å¸é‡Œè½¬äº†å‡ æ¬¡å²—ï¼Œéƒ½æ²¡æœ‰ç§¯ç´¯ä¸‹ä»€ä¹ˆå¾ˆæœ‰ä»·å€¼çš„æŠ€æœ¯æ–‡ç« ï¼Œå¤§å¤šæ•°è¿˜æ˜¯æ¯”è¾ƒè‚¤æµ…çš„åŠŸèƒ½ã€‚ç ”ç©¶è¿‡ä¸€æ®µæ—¶é—´çš„iOS CoreGraphicã€CoreTextã€OpenGL ESç­‰ç­‰ç»˜å›¾åº“ï¼Œä¹Ÿç®—ç»™å…¬å¸çš„è¡¨æ ¼æ¸²æŸ“æä¾›äº†ä¸é”™çš„æ–¹æ¡ˆï¼Œç¢¾è¿‡äº†å„ç§å„æ ·çš„å‘ï¼Œä½†æ˜¯ç›¸æ¯”èµ·YYKitã€cocos2dè¿™ä¸€ç±»å¼€æºåº“ï¼Œæ„Ÿè§‰è‡ªå·±è¿˜æ˜¯å¤ªè‚¤æµ…ï¼Œæ„Ÿè§‰è¿˜å¤„åœ¨å¼€å‘æ°´å¹³ï¼Œæ²¡æœ‰ç ”å‘çš„æˆå°±æ„Ÿã€‚ä»¥ååšå®¢å¸Œæœ›èƒ½æ›´æ–°ä¸€äº›æœ‰æ„æ€çš„ç»„ä»¶ï¼ˆæˆ–è€…æœ‰è¶£çš„å°æ¸¸æˆï¼Œå˜¿å˜¿å˜¿ï¼‰ï¼Œ&lt;strong&gt;å¦‚æœæœ‰è¯»è€…ï¼Œ&lt;/strong&gt;å¸Œæœ›èƒ½ç»™ä½ çš„å­¦ä¹ å¸¦æ¥ä¸€ç‚¹ç‚¹çš„å¸®åŠ©ã€‚&lt;/p&gt;</content><author><name>neo</name></author><category term="Getting started" /><summary type="html">å·¥ä½œè¿™ä¹ˆå¤šå¹´ï¼Œéƒ½æ²¡æœ‰æƒ³è¿‡è¦å†™åšå®¢ï¼ŒèŠ±äº†å¤§åŠå¤©æ—¶é—´æ€»ç®—æ˜¯æ­å»ºèµ·æ¥äº†ï¼Œmarkä¸€ä¸‹</summary></entry></feed>